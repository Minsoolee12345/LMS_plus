<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout :: head}">
  <meta charset="UTF-8"/>
  <title>내 강의 목록</title>
</head>
<body>
  <header th:replace="~{layout :: header}"></header>
  <div class="layout">
    <main class="content">
 <div class="container" style="margin-top: 30px;">
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h3 class="panel-title" th:text="${currentUser.username} + ' 님의 강의 목록'">강의 목록</h3>
    </div>

    <div class="panel-body">
      <p><a th:href="@{/lecture/new}" class="btn btn-success btn-sm">+ 새 강의 등록</a></p>

      <table class="table table-striped table-bordered table-hover">
        <thead>
          <tr>
            <th>강의번호</th>
            <th>제목</th>
            <th>생성일</th>
            <th>상태</th>
          </tr>
        </thead>

        <tbody th:if="${#lists.isEmpty(lectures)}">
          <tr><td colspan="4" class="text-center">등록된 강의가 없습니다.</td></tr>
        </tbody>

        <tbody th:each="lec : ${lectures}">
          <tr>
            <td th:text="${lec.lectureNo}"></td>
            <td th:text="${lec.title}"></td>
            <td th:text="${#dates.format(lec.createdDate, 'yyyy-MM-dd')}"></td>
            <td>
              <span class="label" 
                    th:classappend="${lec.visibility==1} ? 'label-primary' : 'label-default'" 
                    th:text="${lec.visibility==1?'공개':'비공개'}">
              </span>
            </td>
          </tr>
        </tbody>
      </table>

    </div>
  </div>
</div>
    </main>
  </div>
</body>
</html>
